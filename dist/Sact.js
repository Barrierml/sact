(()=>{"use strict";function t(t,e){let n;if(n=t.attrsMap[e]){t.attrsMap[e]=null;for(let n=0,o=t.attrs.length;n<o;n++)if(t.attrs[n].name===e){t.attrs.splice(n,1);break}}return n}function e(t){return t&&"object"==typeof t&&null!==t}const n=new RegExp("{{\\s*([\\w\\.\\(\\)\\]\\[\\|&_$]+)\\s*}}");function o(t){let e=n.exec(t);return e?[e[1],e.index,e.index+e[0].length]:[]}const r=Array.isArray,s=t=>"string"==typeof t,i=t=>"function"==typeof t,l=Object.prototype.toString,c=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,a=/^\s*((?:s-[\w-]+:|@|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,f="[a-zA-Z_][\\-\\.0-9_a-zA-Z]*",u=`((?:${f}\\:)?${f})`,p=new RegExp(`^<${u}`),h=/^\s*(\/?)>/,d=new RegExp(`^<\\/${u}[^>]*>`),m=/^<!DOCTYPE [^>]+>/i,w=/^<!\--/,g=/^<!\[/;function y(t){if(!r(t))return null;let e={};for(let n of t)e[n.name]=n.value;return e}let $=0;const v=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/;function b(e){let n;return(n=t(e,"s-for"))?function(t,e){const n=e.match(/([^]*?)\s+(?:in|of)\s+([^]*)/);if(!n)throw new Error("无效 s-for 表达式: "+e);return`_f_(${n[2]},function(${n[1].trim().replace("(","").replace(")","")}){\n      return ${b(t)}\n    })`}(e,n):(n=t(e,"s-if"))?function(t,e){return`(${e}) ? ${b(t)} : null`}(e,n):"template"===e.tagName?C(e):`_c_('${e.tagName}', ${function(e){if(!e.attrs.length)return"{}";let n="{",o="attrs:{",r={},s=!1,i=!1,l=!1,c="props:{";const a=t(e,"s:class")||t(e,"s-bind:class")||t(e,":class");a&&(n+=`class: ${a},`);const f=t(e,"class");f&&(n+=`staticClass: "${f}",`);for(let t=0,a=e.attrs.length;t<a;t++){let a=e.attrs[t],f=a.name,u=a.value;if(/^s-bind:|^:|s:/.test(f))f=f.replace(/^:|^s-bind:|^s:/,""),"style"===f?n+=`style: ${u},`:"key"===f?n+=`key: (${u}),`:/^(value|selected|checked|muted)$/.test(f)?(i=!0,c+=`"${f}": (${u}),`):(s=!0,o+=`"${f}": (${u}),`);else if(/^@|^s-on:|^s@/.test(f)){const t=_(f);f=A(f),l=!0,f=f.replace(/^@|^s-on:|^s@/,""),k(r,f,u,t)}else if(/^s-model/.test(f)){const t=_(f);f=A(f),l=!0,f=f.replace(/^s-model/,""),i=!0,c+=`"${E(r,e.tagName,u,t)}": (${u}),`}else s=!0,o+=`"${f}": (${JSON.stringify(u)}),`}return s&&(n+=o.slice(0,-1)+"},"),i&&(n+=c.slice(0,-1)+"},"),l&&(n+=function(t){let e="on:{";for(let n in t)e+=`"${n}":${S(t[n])},`;return e.slice(0,-1)+"}"}(r)),n.replace(/,$/,"")+"}"}(e)}, ${C(e)},${$++})`}function _(t){const e=t.match(/\.[^\.]+/g);if(e)return e.map((t=>t.slice(1)))}function A(t){return t.replace(/\.[^\.]+/g,"")}function E(t,e,n,o){let r="let _v_ =",s="change",i="value";switch(e){case"input":s="input",r+="$event.target.value;",i="value";break;case"select":s="change",r+="$event.target.value;",i="value"}if(Array.isArray(o))for(let t=0;t<o.length;t++)"trim"===o[t]?r+="_v_ = _v_.trim && _v_.trim();":"number"===o[t]&&(r+="_v_ = parseInt(_v_) || _v_;");return r+=`${n} = _v_;`,t[s]={value:r},i}function k(t,e,n,o){const r=o&&o.indexOf("capture");r>-1&&(o.splice(r,1),e="!"+e);const s={value:n,modifiers:o},i=t[e];Array.isArray(i)?i.push(s):t[e]=i?[i,s]:s}const x={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();"};function S(t){if(t){if(Array.isArray(t))return`[${t.map(S).join(",")}]`;if(t.modifiers&&t.modifiers.length){let e="function($event){";for(let n=0;n<t.modifiers.length;n++){let o=t.modifiers[n];e+=x[o]}return e+(v.test(t.value)?t.value+"()":t.value)+"}"}return v.test(t.value)?t.value:`function($event){${t.value}}`}return"function(){}"}function C(t){return t.children.length?"["+t.children.map((t=>t.tagName?b(t):function(t){if(" "===t)return'" "';{const e=function(t){if(!n.test(t))return null;let[e,r,s]=o(t),i=[];for(;e;)0!==r&&i.push(`'${t.substring(0,r).trim()}'`),i.push(`(${e})`),t=t.substring(s),[e,r,s]=o(t);return t&&i.push(`'${t.trim()}'`),i.join("+")}(t);return e?"("+e+")":JSON.stringify(t)}}(t))).join(",")+"]":"undefined"}const R=[];let O=!1,K=!1,N={};function T(){K=!1,O=!0,R.forEach((t=>{t()})),R.length=0,O=!1,N={}}const H=[];let M,j=!1;const P=Promise.resolve();function z(){j=!1;const t=H.slice(0);H.length=0;for(let e=0;e<t.length;e++)t[e]()}M=()=>{P.then(z)};let D=0;const L=[];let V;function U(t,e){(function(t){return t&&t._isEffect})(t)&&(t=t.raw),e||(e={});const n=function(t,e){let n=function(){if(console.log(...arguments),!n.active)return options.scheduler?void 0:t();if(-1===L.indexOf(n)){Z(n);try{return L.push(n),V=n,t(...arguments)}finally{L.pop(),V=L[L.length-1]}}};return n.id=D++,n.raw=t,n.opts=e,n._isEffect=!0,n.active=!0,n.deps=[],n}(t,e);return e.lazy||n(),n}function Z(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}const q=new WeakMap;function I(t,e,n,o,r){const s=q.get(t);if(!s)return;const i=new Set;var l;void 0!==n&&(l=s.get(n))&&l.forEach((t=>{t!==V&&i.add(t)})),i.forEach((s=>{let i=()=>{};s.opts.onTrigger&&s.opts.onTrigger({effect:s,target:t,key:n,type:e,newValue:o,oldValue:r}),i=s.opts.scheduler?()=>s.opts.scheduler(s):()=>s(),i.id=s.id,function(t){let e=t.id;var n;O?console.log("当前正在刷新",t):(N[e]||(R.push(t),N[e]=!0),O||K||(K=!0,n=T,H.push((()=>{n&&n.call(void 0)})),j||(j=!0,M())))}(s)}))}const J=new WeakMap;function W(t){if(!e(t))throw console.warn("[Sact-warn]:target must a object",t),new Error("reactive 传入的参数必须是个对象！");const n=J.get(t);if(n)return n;let o=new Proxy(t,{get:B,set:Y,deleteProperty:G});return J.set(t,o),o}function B(t,n,o){let r=Reflect.get(t,n,o);return function(t,e){if(void 0===V)return;let n=q.get(t);n||q.set(t,n=new Map);let o=n.get(e);o||n.set(e,o=new Set),o.has(V)||(o.add(V),V.deps.push(o),V.opts.onTrack&&V.opts.onTrack(V,t,e))}(t,n),e(r)?W(r):r}const F={SET:1,ADD:2,DELETE:4};function Y(t,e,n,o){const r=t[e],s=((t,e)=>Reflect.has(t,e))(t,e),i=Reflect.set(t,e,n,o);return s?n!==r&&I(t,F.SET,e,n,r):I(t,F.ADD,e,n),i}function G(t,e){let n=Reflect.deleteProperty(t,e);return I(t,F.delete,e),n}class Q{constructor(t,e,n,o,r,s,i){this.context=t,this.tag=s?"_text_":e,this.data=n,this.componentOptions=r,this.parent=void 0,this.text=s?e:void 0,this.key=n&&n.key,this.element=void 0,this.zid=i,this.children=X(o,t,this)}getParentEle(){let t=this.parent;for(;t&&!t.element;)t=t.parent;return t&&t.element}}function X(t,e,n){let o=[];if(t){for(let r of t)Array.isArray(r)?o=o.concat(X(r,e,n)):"string"==typeof r?o.push(new Q(e,r,void 0,void 0,void 0,!0)):r&&o.push(r);return o.map((t=>(t.parent=n,t)))}}const tt={insert(t,e,n){n?e.insertBefore(t,n):e.appendChild(t)},remove(t){const e=t.parentNode;e&&e.removeChild(t)},replace(t,e){const n=t.parentNode;n&&n.replaceChild(e,t)},next:t=>t&&t.nextElementSibling,pre:t=>t&&t.previousElementSibling,setElementText(t,e){t.textContent=e},setAttribute(t,e,n){e&&t.setAttribute(e,n)},removeAttribute(t,e){t.removeAttribute(e)}};function et(t,e,n){if(t!==e)if(t&&!e)ht(t);else if(t&&e&&ot(t,e))nt(t,e);else if(!t&&e&&n instanceof Element)!function(t,e){if(e){let n;t.context.callHooks("beforeMount"),n=ct(t),tt.replace(e,n),t.context.$ele=n,t.context.callHooks("mounted")}else{let e=t.warpSact.wrapVnode;if(!e)throw console.warn("[Sact-warn]:",t),new Error("渲染vnode错误！没有真实元素存在！");{let n=e.getParentEle(),o=t.element||ct(t),r=e.parent.children.indexOf(e)-1,s=e.parent.children[r].element;tt.insert(o,n,tt.next(s))}}}(e,n);else{if(t||!e||n)throw console.warn("[Sact-warn]:not aivailable Vnode",t,e),new Error("[Sact-error]:arguments error，please check！");e.context.$ele=ct(e)}}function nt(t,e){var n,o,r,s;"_text_"===t.tag?t.text!==e.text&&(s=e.text,t.element.textContent=s):t.componentOptions&&e.componentOptions?function(t,e){let n=e.componentOptions,o=t.componentOptions,r=n.Ctor=o.Ctor,s=[r.$slot,r.props];r.$slot=at(n.children),r.props=ut(r,e.data);let i=[r.$slot,r.props];r.callHooks("beforeUpdate"),r.callHooks("shouldUpdate")(s[1],i[1])&&function([t,e],[n,o]){if(t!==n)return!0;if(e&&o){let t=Reflect.ownKeys(e),n=Reflect.ownKeys(o);if(t.length!==n.length)return!0;for(let r=0;r<t.length;r++){let s=t[r],i=n[r];if(e[s]!==o[i])return!0}}return!1}(s,i)&&(r.patch(),mt(r.$ele,r.props))}(t,e):(function(t,e){let n,o=t.data,r=e.data;lt(o,r,"class")?lt(o,r,"staticClass")||tt.setAttribute(t.element,"class",r.staticClass):(n=r.staticClass||"",tt.setAttribute(t.element,"class",(n+" "+r.class).trim())),lt(o,r,"style")||wt(t.element,r.style),rt(o.attrs,r.attrs,"attrs",t.element),rt(o.props,r.props,"props",t.element),rt(o.on,r.on,"on",t.element)}(t,e),n=t.children,o=e.children,r=t.element,n&&n.length>0&&o&&0===o.length||n&&!o?n.forEach((t=>{ht(t)})):n&&0===n.length&&o&&o.length>0||!n&&o?dt(r,o):n&&1===n.length&&o&&1===o.length&&ot(n[0],o[0])?nt(n[0],o[0]):n&&o&&function(t,e,n){let o,r,s,i=0,l=0,c=e.length-1,a=n.length-1,f=e[0],u=n[0],p=e[c],h=n[a];for(;i<=c&&l<=a;)if(ot(f,u))nt(f,u),f=e[++i],u=n[++l];else{if(!ot(p,h))break;nt(p,h),p=e[--c],h=n[--a]}--i<c&&(o=e.slice(i+1,c+1)),--l<a&&(r=n.slice(l+1,a+1)),o||(o=[]),r||(r=[]),s=-1===i?e[c+1]&&e[c+1].element:tt.next(e[i].element);for(let e of r){let n=!1;for(let r of o)if(!r.patched&&ot(e,r)){tt.insert(r.element,t,s),nt(r,e),r.patched=!0,s=tt.next(e.element),n=!0;break}if(!n){let n=ct(e);tt.insert(n,t,s),s=tt.next(e.element)}}for(let t of o)t.patched||ht(t)}(r,n,o)),e.element=t.element}function ot(t,e){return t.tag===e.tag&&t.key===e.key}function rt(t,e,n,o){let r=[];if(e&&t){for(let s of Reflect.ownKeys(e))lt(e,t,s)||("attrs"===n?tt.setAttribute(o,s,e[s]):"on"===n?st(o,s,e[s],t[s]):o[s]=e[s],r.push(s));for(let s of Reflect.ownKeys(t))lt(e,t,s)||r.includes(s)||("attrs"===n?tt.removeAttribute(o,s):"on"===n?it(o,newAttr,t[newAttr]):o[newAttr]=null)}}function st(t,e,n,o){it(t,e,o),yt(t,{[e]:n})}function it(t,e,n){t.removeEventListener(e,n._wrapper)}function lt(t,e,n){return t[n]===e[n]}function ct(t){if("_text_"===t.tag)return t.element=document.createTextNode(t.text),t.element;if(t.componentOptions)return t.element=function(t,e){let{Ctor:n,children:o}=e,{key:r,data:s}=t;n=e.Ctor=n(),n.wrapVnode=t,t.context.$store&&(n.$store=t.context.$store);let i=ut(n,s);n.$slot=at(o);let l=null;return n.callHooks("beforeMount"),n.patch(),n._mounted=!0,l=n.$ele,n.isShowAttr&&mt(l,i),r&&tt.setAttribute(l,"key",r),n.callHooks("mounted"),l}(t,t.componentOptions),t.element;let{tag:e,data:n,children:o,key:r}=t,s=t.element=document.createElement(e);return n&&mt(s,n,t.context),o&&dt(s,o),r&&tt.setAttribute(s,"key",r),t.element=s,s}function at(t){let e={};if(Array.isArray(t))return e.default=t,e}function ft(t){let e=t.split("-");if(e.length>1){let t=e[0];for(let n=1;n<e.length;n++)t+=e[n].slice(0,1).toUpperCase()+e[n].slice(1);return t}return t}function ut(t,e){let n={},o=t.$propsCheck,r={};for(let t of Reflect.ownKeys(e)){let o=e[t];for(let t of Reflect.ownKeys(o)){let e=o[t];t=ft(t),n[t]=e,"style"!==t&&"class"!==t||(r[t]=e)}}if(o)for(let e of Reflect.ownKeys(o)){let s=o[e];r[e]=pt(s,n[e],e,t.name)}else console.warn(`[Sact-warn]:this component '${t.name}' had not define props,\n                    but this component was feeded in some props '${n}',this props will be not available,\n                    beacuse those maybe will cause some wrong. we do not recommond`);return t.props=r,n}function pt(t,e,n,o){let{type:l,validator:c,required:a}=t;if(a&&void 0===e)throw new Error(`\n[Sact-warn]:this component '${o}',it's prop [${n}] is required ,but it was not feeded in a availalbe value,please check this!`);if(i(c)&&c(e))return e;let f=`\n[Sact-warn]:this component '${o}', it's prop [${n}] should be '${String(l)}',but it was feeded in '${typeof e}',please check this!`;if(s(l)){if("any"===l)return e;if(typeof e!==l)throw new TypeError(f);return e}if(i(l)){if(e instanceof l)return e;throw new TypeError(f)}if(r(l)){for(let t of l)if(s(t)){if(typeof e===t)return e}else if(i(t)&&e instanceof t)return e;throw new TypeError(f)}throw new Error(`[Sact-warn]:this component '${o}', invalidated type '${l}'`)}function ht(t){t.componentOptions&&t.componentOptions.Ctor.destory(),tt.remove(t.element)}function dt(t,e){if(Array.isArray(e))for(let n of e){let e=ct(n);Array.isArray(e)?e.map((e=>{t.appendChild(e)})):e&&t.appendChild(e)}}function mt(t,e,n){let o="";for(let n of Reflect.ownKeys(e)){switch(n){case"attrs":$t(t,e[n]);break;case"on":yt(t,e[n]);break;case"props":gt(t,e[n]);break;default:"staticClass"===n||"class"===n?o+=e[n]+" ":"style"===n?wt(t,e[n]):tt.setAttribute(t,n,e[n])}""!==o&&tt.setAttribute(t,"class",o.trim())}}function wt(t,e){let n=typeof e;if(Array.isArray(e))for(let n=0;n<e.length;n++){if("object"!=typeof e[n])throw new Error(`${n} 并不是一个对象！`);wt(t,e[n])}else if("object"===n){let n=Reflect.ownKeys(e);for(let o=0;o<n.length;o++){let r=n[o];t.style[r]=e[r]}}else"string"===n&&(t.style=e)}function gt(t,e){for(let n of Reflect.ownKeys(e))t[n]=e[n]}function yt(t,e){let n=Reflect.ownKeys(e);for(let o=0;o<n.length;o++){let r=n[o],s=e[r]._wrapper=function(){if("function"!=typeof e[r])throw new Error(`${r} 不是一个合法的函数，请检查！`);e[r](...arguments)};t.addEventListener(r,s)}}function $t(t,e){for(let n of Reflect.ownKeys(e))tt.setAttribute(t,n,e[n])}let vt=0;function bt(t){var n;this.$options=t,function(t){const e=t.$options;t.callHooks=function(n){let o=e[n],r=typeof o;return"shouldUpdate"===n?function(e,n){return!o||"function"!==r||o.apply(t,[e,n])}:o&&"function"===r?o.apply(t):void 0}}(this),this.callHooks("beforeCreate"),function(t){t._mounted=!1,t._isStore=!1,t._shouldMount=!0,t.uid=vt++;const e=t.$options.el||t.$options.ele;let{store:n,template:o,component:i}=t.$options;if(function(t){return r(t)||t instanceof NodeList}(e)){let n=_t(e);t._isStore=!0,t._goods=[],n.forEach((e=>{t._goods.push({el:e,store:t,component:i})}))}else e&&(t.$ele=function(t){if(t instanceof Element||t instanceof Node)return t;if(s(t))return document.querySelector(t);throw new Error(`[Sact-warn]:${t} 在页面内找不到真实元素！`)}(e),o=t.$ele.outerHTML,n&&(t.$store=n));t.$template=o}(this),function(t){const n=t.$options;let{props:o}=n;if(!o)return;let s={};if(i(o)&&(o=o.call(t)),r(o))o.forEach((t=>{s[t]={type:"any"}}));else{if(!e(o))throw console.warn("[Sact-warn]:please check your props, It's not a Array or Object",o),new Error("请输入正确的props选项，支持Array与Obj类型!");for(let t in o)s[t]=At(o[t])}t.$propsCheck=s}(this),function(t){const n=t.$options;if(e(n.method)){let{method:e}=n;for(let o of Reflect.ownKeys(e)){if("function"===(e[o],!1))throw new Error(`${o} 不为function，请检查！`);t[o]=n.method[o].bind(t)}}t.effects=[],t._c_=(e,n,o,r)=>function(t,e,n,o,r){const{components:s}=t;return Reflect.ownKeys(s).indexOf(e)>-1?function(t,e,n,o,r,s){return new Q(n,"sact-component-"+s+"-"+r,e,void 0,{Ctor:t,tag:r,children:X(o)},!1,s)}(s[e],n,t,o,e,r):"slot"===e?function(t,e,n){if(t.$slot){let n=e.attrs&&e.attrs.name;return n?t.$slot[n]||null:t.$slot.default}return n}(t,n,o):new Q(t,e,n,o,void 0,!1,r)}(t,e,n,o,r),t._f_=(t,e)=>function(t,e){let n=[],o=typeof t;if(Array.isArray(t))n=t.map(e);else if("object"===o){let o=0;for(let r of Reflect.ownKeys(t))n.push(e(r,o))}else if("string"===o)for(let o of t)n.push(e(o));else if("number"==typeof t)for(let o=1;o<=t;o++)n.push(e(o));else if("number"===o)for(let o=0;o<t;o++)n.push(e(o));return n}(t,e)}(this),function(t){const n=t.$options;let o=n.data;if(n.data&&"function"==typeof n.data&&(o=o.apply(t),!e(o)))throw new Error("[Sact-warn]:data返回的必须是一个对象！");!1===n.reactive?t.data=o:t.data=o?W(o):{}}(this),function(t){const n=t.$options;let{isComponent:o,component:r,isAbstract:s}=n;if(o&&(t.isComponent=!0,t.isAbstract=s,t.name=n.name,t.isShowAttr=n.isShowAttr||!0,t._shouldMount=!1),t.components={},e(r))for(let e of Reflect.ownKeys(r))t.components[r[e].sname]=r[e]}(this),this.callHooks("created"),this._isStore?(n=this)._goods=n._goods.map((t=>new Et(t))):(function(t){const e=t.$options;if(!0===t.isAbstract)t._render=()=>null;else{if(!t.$template)throw console.warn("[Sact-warn]:not available template!",e),new Error("模板不存在，请检查你是否传入有效的template参数！");t.$createVnode=function(t){const e=b(t);return t=>{try{return new Function(`with(this){\n                with(data){\n                     return ${e}\n                }\n            }`).call(t)}catch(e){if(e instanceof TypeError)throw console.warn("[Sact-warn]:Cannot read property of undefined, please check props\n",t),new Error("请确定你声明了正确的变量")}}}(function(t){const e=[];let n,o,r,s=0,i=t;for(;t;){n=t;let o,i,c,a=t.indexOf("<");if(0===a){if(w.test(t)){const e=t.indexOf("--\x3e");if(e>=0){l(e+3);continue}}const e=t.match(m);if(e){console.log("处理html声明"),l(e[0].length);continue}const n=t.match(d);if(n){const t=s;l(n[0].length),u(n[1],t);continue}const o=f();o&&$(o)}if(a>=0){for(i=t.slice(a);!(d.test(i)||p.test(i)||w.test(i)||g.test(i)||(c=i.indexOf("<",1),c<0));)a+=c,i=t.slice(a);o=t.substring(0,a)}a<0&&(o=t),o&&(l(o.length),o.replace(/\s+/g,"")&&(r?e[e.length-1].children.push(o):r=o))}return r;function l(e){s+=e,t=t.substring(e)}function f(){const e=t.match(p);if(e){const n={tagName:e[1],attrs:[],start:s};let o,r;for(l(e[0].length);!(o=t.match(h))&&(r=t.match(a)||t.match(c));)r.start=s,l(r[0].length),r.end=s,n.attrs.push(r);if(o)return n.unarySlash=o[1],l(o[0].length),n.end=s,n}}function u(t,n,r){let s,l;if(t){for(l=t.toLowerCase(),s=e.length-1;s>=0&&e[s].tagName!==l;s--);if(s>=0)for(let t=e.length-1;t>s;t--)e[s].children.push(e[t]),e[t].parent=e[s];if(s<0)throw new Error(`\nSact-AstError:存在一个没有开始节点闭合节点！\n${i.substring(0,n)}---\x3e ${i.substring(n)} <-----\n`);s&&(e[s].parent=e[s-1],e[s-1].children.push(e[s])),o=s?e[s-1]:e[s],e.length=s}else console.log("标签：《"+t+"》,没有找到闭合的标签！")}function $(t){let n=t.tagName,s=t.unarySlash,[i,l]=function(e){const n=e.length,o=new Array(n);for(let e=0;e<n;e++){const n=t.attrs[e],r=n[3]||n[4]||n[5]||"";o[e]={name:n[1],value:r}}return[o,y(o)]}(t.attrs),c={tagName:n,attrs:i,attrsMap:l,children:[]};r||(r=c),s||"input"===n||"img"===n?(c.parent=o,r&&r!==c&&e[e.length-1].children.push(c)):e.push(c)}}(t.$template)),t._render=()=>t.$createVnode(t)}let{render:n}=e;n&&"function"==typeof n&&(t._render=e=>n.apply(t,[t._c_,e]))}(this),function(t){t.patch=U(function(){this.isComponent||this.callHooks("beforeUpdate");let t=this.$vnode;this.$vnode=this._render(this.props),this.$vnode&&(this.$vnode.warpSact=this),et(t,this.$vnode,this.$ele),this.callHooks("updated")}.bind(t),{lazy:!0}),function(t,e){e&&(e.effects||(e.effects=[])).push(t)}(t.patch,t),t._shouldMount&&(t._mounted=!0,t.patch(),t._shouldMount=!1)}(this))}function _t(t,e=new Set){if(r(t)||t instanceof NodeList)for(let n=0;n<t.length;n++)_t(t[n],e);else"[object Set]"===(t=>l.call(t))(t)?t.forEach((t=>{_t(t,e)})):e.has(t)||e.add(t);return e}function At(t){let n={type:"any",default:void 0,validator:null,required:!1};return e(t)?n=t:n.type=t,n}class Et{constructor(t){this._init=bt,this._init(t)}destory(){this.callHooks("beforeDestory"),this.effects.forEach((t=>{!function(t){t.active&&(Z(t),t.options.onStop&&t.options.onStop(),t.active=!1)}(t)})),this.effects.length=0}}Et.version="0.1.1",Et.component=function(t){if(!t.name)throw new Error("[Sact-warn]:you must set a name for component!");let e=function(){return new Et({...t,isComponent:!0})};return e.sname=t.name,e},Et.link=function(){const t={};return new Proxy({},{get:function(n,o,r){return"do"===o?new Et(t):function(n){return t[o]?function(t,n){if(!e(n))return t;for(let e of Reflect.ownKeys(n))t[e]=n[e]}(t[o],n):t[o]=n,this}}})},window.Sact=Et})();